<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="花满楼,">










<meta name="description" content="web协议及抓包">
<meta name="keywords" content="花满楼">
<meta property="og:type" content="article">
<meta property="og:title" content="web协议详解">
<meta property="og:url" content="https:// blog.wangguanwei.cn/2020/03/29/web协议详解/index.html">
<meta property="og:site_name" content="薄梦风轻眠">
<meta property="og:description" content="web协议及抓包">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2024-09-27T08:08:13.908Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="web协议详解">
<meta name="twitter:description" content="web协议及抓包">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https:// blog.wangguanwei.cn/2020/03/29/web协议详解/">





  <title>web协议详解 | 薄梦风轻眠</title>
  








</head>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">薄梦风轻眠</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https:// blog.wangguanwei.cn/2020/03/29/web协议详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cinaiet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="薄梦风轻眠">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">web协议详解</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-29T18:06:22+08:00">
                2020-03-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/大千世界/" itemprop="url" rel="index">
                    <span itemprop="name">大千世界</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>web协议及抓包</p>
<a id="more"></a>
<h2 id="评估web架构的关键属性"><a href="#评估web架构的关键属性" class="headerlink" title="评估web架构的关键属性"></a>评估web架构的关键属性</h2><h3 id="HTTP协议应当在以下属性中取得可接受的均衡"><a href="#HTTP协议应当在以下属性中取得可接受的均衡" class="headerlink" title="HTTP协议应当在以下属性中取得可接受的均衡:"></a>HTTP协议应当在以下属性中取得可接受的均衡:</h3><ul>
<li>性能 performance : 影响高可用的关键因素</li>
<li>可伸缩性 scalability : 支持部署可以交互的大量组件</li>
<li>简单性 simpilcity : 易理解、易实现、易验证</li>
<li>可见性 visiavle : 对两个组件间的交互进行监视或仲裁的能力。如缓存，分层设计等。</li>
<li>可移植性 portability : 在不同的环境下运行的能力</li>
<li>可靠性 reliablity : 出现部分故障时，对整体的影响程度</li>
<li>可修改性 modifiability : 对系统做出修改的难易程度，有可定制化性、可扩展性、可进化性、可配置性、可重用性构成<ul>
<li>可进化性: 一个组件独立升级而不影响其它组件</li>
<li>可扩展性: 向系统添加功能而不会影响系统其它部分</li>
<li>可定制型: 临时性、定制性的更改某一要素来提供服务，不对常规客户产生影响</li>
<li>可重用性: 组件可以不做修改在其它应用中使用</li>
<li>可配置性: 应用部署后可通过修改配置提供新的功能</li>
</ul>
</li>
</ul>
<h3 id="架构属性"><a href="#架构属性" class="headerlink" title="架构属性"></a>架构属性</h3><h4 id="网络性能"><a href="#网络性能" class="headerlink" title="网络性能"></a>网络性能</h4><ul>
<li>吞吐量 : 小于等于服务的带宽</li>
<li>开销: 首次开销、每次开销</li>
</ul>
<h4 id="用户感知到的性能"><a href="#用户感知到的性能" class="headerlink" title="用户感知到的性能"></a>用户感知到的性能</h4><ul>
<li>延迟: 发起请求到相应的时间</li>
<li>完成时间: 完成一个应用动作所花费的时间</li>
</ul>
<h4 id="网络效率"><a href="#网络效率" class="headerlink" title="网络效率"></a>网络效率</h4><ul>
<li>重用缓存、减少交互次数、数据传输距离更近、COD</li>
</ul>
<h3 id="架构风格"><a href="#架构风格" class="headerlink" title="架构风格"></a>架构风格</h3><table>
<thead>
<tr>
<th>风格</th>
<th>简单性</th>
<th>可靠性</th>
<th>可进化性</th>
<th>可扩展性</th>
<th>可配置性</th>
<th>可重用性</th>
<th>可伸缩性</th>
<th>网络效率</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据流风格</td>
<td>✔️</td>
<td></td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>复制风格</td>
<td>用户可察觉的性能</td>
<td>✔️</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔️</td>
<td>✔️</td>
<td></td>
</tr>
<tr>
<td>分层风格</td>
<td>✔️</td>
<td>✔️</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>✔️</td>
<td></td>
<td></td>
</tr>
<tr>
<td>移动代码风格</td>
<td>可移植性</td>
<td></td>
<td></td>
<td>✔️</td>
<td></td>
<td></td>
<td></td>
<td>✔️</td>
<td></td>
</tr>
<tr>
<td>点对点风格</td>
<td></td>
<td></td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>风格简单性可靠性可进化性可扩展性可配置性可重用性可伸缩性网络效率数据流风格✔️✔️✔️✔️✔️复制风格用户可察觉的性能✔️✔️✔️分层风格✔️✔️✔️移动代码风格可移植性✔️✔️点对点风格✔️✔️✔️✔️#### 数据流风格 Data-flow-style</p>
<ul>
<li>管道与过滤器(或者称为组件)<br>每个filter都有输入端和输出端,只能从输入端读取数据,处理后再从输出端产生数据</li>
<li>接口统一的管道与过滤器<br>如在每个接口都增加统一的约束,则整个架构的简单性会得到增强</li>
</ul>
<h4 id="复制风格-Replication-Style"><a href="#复制风格-Replication-Style" class="headerlink" title="复制风格 Replication Style"></a>复制风格 Replication Style</h4><ul>
<li>复制仓库<br>多个进程提供相同的服务,如通过反向代理对外提供您集中服务</li>
<li>缓存<br>在客户端或中间的代理中,通过复制请求的结果,为后续的请求复用</li>
</ul>
<h4 id="分层风格-Hierarchical-Styles"><a href="#分层风格-Hierarchical-Styles" class="headerlink" title="分层风格 Hierarchical Styles"></a>分层风格 Hierarchical Styles</h4><ul>
<li>客户端服务器 Client-Server CS<ul>
<li>由Client(客户端)触发请求,Server(服务端)监听到请求后响应,Client一直等待收到响应后,会话结束.</li>
<li>分离关注点隐藏细节,Server只关注资源的生成和管理,Client关注资源的可视化渲染,具有良好的可伸缩性、可进化性、简单性。</li>
</ul>
</li>
<li>分层系统 Layered System LS<ul>
<li>每一层为其之上的层服务,并使用在其下的层所提供的服务,如TCP,IP</li>
</ul>
</li>
<li>分层客户端服务器 Layered-Client-Server LCS<ul>
<li>如正向代理和反向代理,从空间上分为外部层和内部曾,正向代理把客户端和网络环境进行分离,反向代理将企业内网与外网进行分层。</li>
</ul>
</li>
<li>无状态、客户端服务器 Client-stateless-Server CSS<ul>
<li>基于CS,服务器上不允许有session,state等会话状态</li>
<li>提升了可伸缩性、可见性、可靠性、但重复数据降低了网络的性能</li>
</ul>
</li>
<li>缓存、无状态客户端服务器 Client-Cacha-Stateless Server C$SS<ul>
<li>提升性能</li>
</ul>
</li>
<li>分层、缓存、无状态客户端服务器 Layered-Client-Cacha-Stateless Server LC$SS</li>
</ul>
<h4 id="移动代码风格-Mobile-code-style"><a href="#移动代码风格-Mobile-code-style" class="headerlink" title="移动代码风格 Mobile code style"></a>移动代码风格 Mobile code style</h4><ul>
<li>虚拟机 Virtual Machine, VM<br>分离指令与实现</li>
<li>远程求值 Remote Evaluation REV<br>基于CS的VM,将代码发送至服务器运行</li>
<li>按需代码 Code on Demand COD<ul>
<li>服务器在响应中发回处理代码，在客户端执行</li>
<li>优秀的可扩展性和可移植性，提升用户可察觉性性能和网络效率</li>
</ul>
</li>
<li>分层、按需代码、缓存、无状态客户端服务器 LCODC$SS</li>
<li>移动代理 Mobile Agent MA<br>相当于 REV +COD</li>
</ul>
<h4 id="点对点风格-Peer-to-Peer-style"><a href="#点对点风格-Peer-to-Peer-style" class="headerlink" title="点对点风格 Peer-to-Peer style"></a>点对点风格 Peer-to-Peer style</h4><ul>
<li>Event-Based Integration EBI<ul>
<li>基于事件集成系统，如消息的订阅，消费。</li>
<li>优秀的可重用性、可扩展性、可进化性</li>
<li>缺乏可理解性</li>
<li>由于消息广播等因素造成的消息风暴,可伸缩性差</li>
</ul>
</li>
<li>Chiorn2 C2<br>相当于 EBI + LCS 控制了消息的方向</li>
<li>Distributed Objects DO<br>组件结对交互</li>
<li>Brokered Distributed Objects BDO<br>引入名字来解析组件来简化DO，例如CORBA</li>
</ul>
<hr>
<h2 id="HTTP的前世今生"><a href="#HTTP的前世今生" class="headerlink" title="HTTP的前世今生"></a>HTTP的前世今生</h2><h3 id="HTTP-是什么"><a href="#HTTP-是什么" class="headerlink" title="HTTP 是什么"></a>HTTP 是什么</h3><p><strong>超文本传输协议</strong></p>
<p>重点在于P(Protocol)，用于约定服务端与客户端 超文本(当前已有图片、音频超链接等)数据传递交互的规范。</p>
<h4 id="与HTTP相关的概念"><a href="#与HTTP相关的概念" class="headerlink" title="与HTTP相关的概念"></a>与HTTP相关的概念</h4><h5 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h5><p>内容分发器。应用了HTTP协议的缓存和代理技术，代替源站去相应客户端的请求。<br>简单来说，就是缓存了源网站的数据，客户端再次请求时，可以不用去源服务器去请求，降低响应时间。</p>
<h5 id="Web-Service"><a href="#Web-Service" class="headerlink" title="Web Service"></a>Web Service</h5><p>由W3C定义的应用服务开发规范，有client-server 主从架构，通过使用WSDL定义服务接口，使用HTTP传输xml或SOAP消息，也就是说，它是一个<strong>基于Web(HTTP)的服务架构技术</strong>。</p>
<h5 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h5><p>TCP/IP 协议实际上是一系列网络通信协议的统称，其中最核心的两个协议是 TCP 和 IP，其他的还有 UDP、ICMP、ARP 等等，共同构成了一个复杂但有层次的协议栈。</p>
<ul>
<li>TCP协议 属于<strong>传输层</strong> 传输控制协议。位于IP协议之上，基于IP协议提供 <font color="green">可靠的</font>、<font color="green">字节流</font>形式的通信。是HTTP协议实现的基础。<br>TCP是一个有状态的协议，需要先与对方建立连接，然后才能发送数据，并且保证数据不丢失不重复。TCP的数据时连续的字节流，有先后顺序。</li>
<li>IP 协议 属于<strong>网际层</strong> 主要目的是解决寻址和路由问题，以及如何在两点之间传递数据包。</li>
<li><p>TCP/IP协议总共有四层</p>
<ol>
<li>链接层  负责在以太网、WIFI这样的底层发送原始数据包，工作在网卡这个层次，使用MAC地址来标记网络上的设备，也叫MAC层。传输单位是帧。</li>
<li>网际层(网络互连层) IP协议就在这一层。把IP地址转换成MAC地址。传输单位是包。</li>
<li>传输层 保证数据在IP地址标记的两点之间“可靠的”传输，是TCP/IP协议工作的层次。传输单位是段。</li>
<li>应用层</li>
</ol>
</li>
</ul>
<h5 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h5><p>域名系统 是IP地址的等价替代，用域名解析实现IP地址的映射。<br>如 <a href="blog.wangguanwei.com">薄梦风轻棉</a></p>
<h5 id="URI-URL"><a href="#URI-URL" class="headerlink" title="URI/URL"></a>URI/URL</h5><h3 id="HTTP-0-9"><a href="#HTTP-0-9" class="headerlink" title="HTTP/0.9"></a>HTTP/0.9</h3><p>只允许使用GET从服务端获取HTML文档，并在请求响应之后立即关闭连接。</p>
<h3 id="HTTP-1-0"><a href="#HTTP-1-0" class="headerlink" title="HTTP/1.0"></a>HTTP/1.0</h3><ul>
<li>增加了HEAD、POST等方法；</li>
<li>增加了相应状态码，标记可能出现的错误原因；</li>
<li>引入协议版本号的概念；</li>
<li>引入了HTTP Header(头部)的概念，让HTTP处理请求和相应更加灵活；</li>
<li>传输的数据不再局限于文本。</li>
</ul>
<h3 id="HTTP-1-1"><a href="#HTTP-1-1" class="headerlink" title="HTTP/1.1"></a>HTTP/1.1</h3><ul>
<li>增加了PUT、DELETE新方法；</li>
<li>增加缓存管理和控制；</li>
<li>明确连接管理，允许持久连接；</li>
<li>允许相应数据分块(chunked)，利于传输大文件；</li>
<li>强制要求Host头，让互联网主机托管称为可能。</li>
</ul>
<h3 id="HTTP-2"><a href="#HTTP-2" class="headerlink" title="HTTP/2"></a>HTTP/2</h3><p><strong>HTTP/2 基于 Google 的 SPDY 协议，注重性能改善，但还未普及；</strong></p>
<ul>
<li>二进制协议，不再是纯文本；</li>
<li>可发起多个请求，废弃1.1中的管道；</li>
<li>使用专用算法压缩头部，减少数据传输量；</li>
<li>允许服务器主动向客户端推送数据；</li>
<li>要求加密通信，增加了安全性。</li>
</ul>
<h3 id="HTTP-3"><a href="#HTTP-3" class="headerlink" title="HTTP/3"></a>HTTP/3</h3><p><strong>HTTP/3 基于 Google 的 QUIC 协议，是将来的发展方向。</strong></p>
<hr>
<h2 id="HTTP1详解"><a href="#HTTP1详解" class="headerlink" title="HTTP1详解"></a>HTTP1详解</h2><h3 id="request-line-请求行"><a href="#request-line-请求行" class="headerlink" title="request-line 请求行"></a>request-line 请求行</h3><p>request-line = method + request-target + http-version CRLF</p>
<h4 id="method-方式"><a href="#method-方式" class="headerlink" title="method (方式)"></a>method (方式)</h4><p><strong>幂等： 多次执行相同的操作，结果也都是相同的，即多次“幂”后结果“相等”</strong></p>
<p>指明请求方式</p>
<ul>
<li>GET<br>主要的获取数据的方法，大量的性能优化都针对该方法，也是幂等方法(调用一次和调用多次获得的结果是完全一致的)</li>
<li>POST<br>主要用于向服务器提交数据(资源)。常用于form表单提交、新增资源等。POST有新建(credit)的含义。</li>
<li>HEAD<br>类似于GET方法，但服务器不会返回请求的实体数据，只会传回响应头，也就是元数据。幂等方法</li>
<li>PUT<br>替换或更新数据，更新资源时使用。带条件时是幂等方法（多次更新一个资源，资源还是第一次更新的状态。）PUT有修改(update)的含义。</li>
<li>DELETE<br>删除资源，因为该动作危险性大通常服务器不会执行真正的删除操作，而是对资源做一个删除的标记。当然更多的服务器直接不处理该方法。幂等方法（可以多次删除同一个资源，得到的结果都是“资源不存在”。）</li>
<li>CONNECT<br>建立tunnel隧道。要求服务器为客户端和另一台远程服务器建立一条特殊的连接隧道，这时 Web 服务器在中间充当了代理的角色。</li>
<li>OPTIONS<br>显示服务器对访问资源支持的方法，在响应头的ALLOW字段中返回。幂等方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ curl static.taohui.tech -X OPTIONS -I</span><br><span class="line">// Allow列举出支持的方式</span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: openresty/1.15.8.1</span><br><span class="line">Date: Wed, 01 Apr 2020 15:27:15 GMT</span><br><span class="line">Content-Length: 0</span><br><span class="line">Connection: keep-alive</span><br><span class="line">DAV: 2</span><br><span class="line">Allow: GET,HEAD,PUT,DELETE,MKCOL,COPY,MOVE,PROPFIND,OPTIONS,LOCK,UNLOCK</span><br></pre></td></tr></table></figure>
<ul>
<li>TRACE<br>用于对HTTP链路或诊断，可以显示出请求-相应的传输路径。它的本意是好的，但存在漏洞，会泄漏网站的信息，所以 Web 服务器通常也是禁止使用。</li>
</ul>
<h4 id="request-target-Path"><a href="#request-target-Path" class="headerlink" title="request-target (Path)"></a>request-target (Path)</h4><p>request-target有四种类型。origin-form、absolute-form、authority-form、asterisk-form。</p>
<ul>
<li>origin-form<br>向语言服务器，及产生响应内容的服务器发送请求的方式</li>
<li>absolute-form<br>仅用于向正向代理发送请求时。后面需要跟完整的URI</li>
<li>authority-form<br>仅用于Connect方法，及需要建立VPN隧道时使用</li>
<li>asterisk-form<br>仅用于Option方法，可以在request-target中传 “*” 号。</li>
</ul>
<h4 id="http-version-版本号"><a href="#http-version-版本号" class="headerlink" title="http-version 版本号"></a>http-version 版本号</h4><ul>
<li>HTTP/0.9<br>只支持GET方法，已过时</li>
<li>HTTP/1.0<br>常适用于代理服务器中，如Nginx向上游发起连接时，默认还是使用的1.0 的协议</li>
<li>HTTP/1.1<br>对1.0做出的改进，支持缓存、超链接，通过Host对于域名的支持。</li>
<li>HTTP/2.0</li>
</ul>
<h4 id="用于文档管理的WEBDAV方法"><a href="#用于文档管理的WEBDAV方法" class="headerlink" title="用于文档管理的WEBDAV方法"></a>用于文档管理的WEBDAV方法</h4><blockquote>
<p>WebDAV是用于Web协作创作的Internet工程任务组（IETF）标准：超文本传输​​协议（HTTP）的一组扩展，便于远程用户之间的协作编辑和文件管理在互联网上互相访问。</p>
</blockquote>
<ul>
<li>PROPFIND 从web资源中检索以XML格式存储的属性，。它也被重载，以允许一个检索远程系统的集合结构(也叫目录层次结构)，如文件中切换目录</li>
<li>PROPPATCH 在单个原子性动作中更改和删除资源的多个属性。</li>
<li>MKCOL 创建集合或目录</li>
<li>COPY 将资源从一个URI复制到另一个URI</li>
<li>MOVE 将资源从一个URI移动到另一个URI</li>
<li>LOCK 锁定一个资源。WEBDAV支持共享锁和互斥锁</li>
<li>UNLOCK 解除资源的锁定</li>
</ul>
<h3 id="status-line-响应行"><a href="#status-line-响应行" class="headerlink" title="status-line 响应行"></a>status-line 响应行</h3><p>status-line = HTTP-version + status-code + reason-pharse CRLF</p>
<h4 id="status-code-响应码"><a href="#status-code-响应码" class="headerlink" title="status-code 响应码"></a>status-code 响应码</h4><h5 id="1xx-请求已经接收到，需要进一步处理才能完成，HTTP1-0不支持"><a href="#1xx-请求已经接收到，需要进一步处理才能完成，HTTP1-0不支持" class="headerlink" title="1xx : 请求已经接收到，需要进一步处理才能完成，HTTP1.0不支持"></a>1xx : 请求已经接收到，需要进一步处理才能完成，HTTP1.0不支持</h5><ul>
<li>100 Continue: 上传大文件前使用。(由客户端发起请求中携带 Expect: 100-continue 头部触发)</li>
<li>101 Switch Protocols : 协议升级使用。(由客户端发起请求中携带Upgrade: 头部触发，如升级websocket或http2.0</li>
<li>102 Processing : WEBDAV请求可能会包含许多涉及文件操作的子请求，需要很长时间才能完成请求。该代码表示服务器已经接收到并正在处理请求，但无响应可用，这样可以防止客户端超时，并假设请求丢失。</li>
</ul>
<h5 id="2xx-成功处理请求"><a href="#2xx-成功处理请求" class="headerlink" title="2xx: 成功处理请求"></a>2xx: 成功处理请求</h5><ul>
<li>200 OK :  成功返回响应</li>
<li>201 Created : 由新资源在服务器端被成功创建</li>
<li>202 Accepted : 服务器接收并开始处理请求,但请求未处理完成。如异步、需要长时间处理的任务。</li>
<li>203 NON-Authoritative Information : 当代理服务器修改了 origin server 的原始响应包体时(例如更换了HTML中的元素值)，代理服务器可以通过修改200为203的方式告知客户端这一事实，方便客户端做出相应的处理。203也可被缓存。</li>
<li>204 No Content : 成功执行了请求且不携带请求包体,并暗示客户端无需更新当前页面视图。</li>
<li>205 Reset Content:成功执行了请求且不携带响应包体，同时指明客户端 需要更新当前页面视图。</li>
<li>206 Partial Content:使用 range 协议时返回部分响应内容时的响应码</li>
<li>207 Multi-Status:RFC4918 ，在 WEBDAV 协议中以 XML 返回多个资源的状态。</li>
<li>208 Already Reported:RFC5842 ，为避免相同集合下资源在207响应码 下重复上报，使用 208 可以使用父集合的响应码。</li>
</ul>
<h5 id="3xx-重定向"><a href="#3xx-重定向" class="headerlink" title="3xx: 重定向"></a>3xx: 重定向</h5><p>使用 Location 指向的资源或者缓存中的资源。在 RFC2068 中规定客户端重定向次数不应超过 5 次，以防止死循环。</p>
<ul>
<li>300 Multiple Choices:资源有多种表述，通过 300 返回给客户端后由其 自行选择访问哪一种表述。由于缺乏明确的细节，300 很少使用。</li>
<li>301 Moved Permanently:资源永久性的重定向到另一个 URI 中。</li>
<li>302 Found:资源临时的重定向到另一个 URI 中。</li>
<li>303 See Other:重定向到其他资源，常用于 POST/PUT 等方法的响应中。</li>
<li>304 Not Modified:当客户端拥有可能过期的缓存时，会携带缓存的标识 etag、时间等信息询问服务器缓存是否仍可复用，而304是告诉客户端可以 复用缓存。</li>
<li>307 Temporary Redirect:类似302，但明确重定向后请求方法必须与原 请求方法相同，不得改变。</li>
<li>308 Permanent Redirect:类似301，但明确重定向后请求方法必须与原请 求方法相同，不得改变。</li>
</ul>
<h5 id="4xx-客户端出现错误"><a href="#4xx-客户端出现错误" class="headerlink" title="4xx: 客户端出现错误"></a>4xx: 客户端出现错误</h5><ul>
<li>400 Bad Request:服务器认为客户端出现了错误，但不能明确判断为以下哪种错误时使用此错误码。例如HTTP请求格式错误。</li>
<li>401 Unauthorized:用户认证信息缺失或者不正确，导致服务器无法处理请求。</li>
<li>407 Proxy Authentication Required:对需要经由代理的请求，认证信息未通过代理服务器的验证</li>
<li>403 Forbidden:服务器理解请求的含义，但没有权限执行此请求</li>
<li>404 Not Found:服务器没有找到对应的资源</li>
<li>410 Gone:服务器没有找到对应的资源，且明确的知道该位置永久性找不到该资源</li>
<li>405 Method Not Allowed:服务器不支持请求行中的 method 方法</li>
<li>406 Not Acceptable:对客户端指定的资源表述不存在(例如对语言或者编码有要求)，服务器返回表述列表供客户端选择。</li>
<li>408 Request Timeout:服务器接收请求超时</li>
<li>409 Conflict:资源冲突，例如上传文件时目标位置已经存在版本更新的资源</li>
<li>411 Length Required:如果请求含有包体且未携带 Content-Length 头部，且不属于 chunk类请求时，返回 411</li>
<li>412 Precondition Failed:复用缓存时传递的 If-Unmodified-Since 或 If- None-Match 头部不被满足</li>
<li>413 Payload Too Large/Request Entity Too Large:请求的包体超出服务器能处理的最大长度</li>
<li>414 URI Too Long:请求的 URI 超出服务器能接受的最大长度</li>
<li>415 Unsupported Media Type:上传的文件类型不被服务器支持</li>
<li>416 Range Not Satisfiable:无法提供 Range 请求中指定的那段包体</li>
<li>417 Expectation Failed:对于 Expect 请求头部期待的情况无法满足时的响应码</li>
<li>421 Misdirected Request:服务器认为这个请求不该发给它，因为它没有能力处理。</li>
<li>426 Upgrade Required:服务器拒绝基于当前 HTTP 协议提供服务，通过 Upgrade 头部告知客户端必须升级协议才能继续处理。</li>
<li>428 Precondition Required:用户请求中缺失了条件类头部，例如 If-Match</li>
<li>429 Too Many Requests:客户端发送请求的速率过快</li>
<li>431 Request Header Fields Too Large:请求的 HEADER 头部大小超过限制</li>
<li>451 Unavailable For Legal Reasons:RFC7725 ，由于法律原因资源不可访问</li>
</ul>
<h5 id="5xx-服务器端出现错误"><a href="#5xx-服务器端出现错误" class="headerlink" title="5xx:服务器端出现错误"></a>5xx:服务器端出现错误</h5><ul>
<li>500 Internal Server Error:服务器内部错误，且不属于以下错误类型</li>
<li>501 Not Implemented:服务器不支持实现请求所需要的功能</li>
<li>502 Bad Gateway:代理服务器无法获取到合法响应</li>
<li>503 Service Unavailable:服务器资源尚未准备好处理当前请求</li>
<li>504 Gateway Timeout:代理服务器无法及时的从上游获得响应</li>
<li>505 HTTP Version Not Supported:请求使用的 HTTP 协议版本不支持</li>
<li>507 Insufficient Storage:服务器没有足够的空间处理请求</li>
<li>508 Loop Detected:访问资源时检测到循环</li>
<li>511 Network Authentication Required:代理服务器发现客户端需要进 行身份验证才能获得网络访问权限</li>
</ul>
<h3 id="Host-头部"><a href="#Host-头部" class="headerlink" title="Host 头部"></a>Host 头部</h3><p>Host = uri-host [ “:” port ]</p>
<ul>
<li>HTTP/1.1 规范要求，不传递 Host 头部则返回 400 错误响应码</li>
<li>为防止陈旧的代理服务器，发向正向代理的请求 request-target 必须以 absolute-form 形式出现</li>
</ul>
<h3 id="Request-Headers-请求的上下文"><a href="#Request-Headers-请求的上下文" class="headerlink" title="Request Headers 请求的上下文"></a>Request Headers 请求的上下文</h3><h4 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User-Agent"></a>User-Agent</h4><p>指明客户端的类型信息，服务器可以据此对资源的表述做抉择<br>User-Agent = product *( RWS ( product / comment ) )</p>
<ul>
<li>product = token [“/“ product-version]<br>包含两部分，一部分为token，一部分为描述token指向的软件的版本号<br>例: User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:66.0)<br>Gecko/20100101 Firefox/66.0</li>
</ul>
<h4 id="referer"><a href="#referer" class="headerlink" title="referer"></a>referer</h4><p>浏览器对来自某一页面的请求自动添加的头部<br>Referer = absolute-URI / partial-URI<br>例: Referer: <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/User-Agent" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/User-Agent</a></p>
<p>Referer 不会被添加的场景:</p>
<ol>
<li>来源页面采用的协议为表示本地文件的 “file” 或者 “data” URI</li>
<li>当前请求页面采用的是 http 协议，而来源页面采用的是 https 协议</li>
</ol>
<p>服务器端常用于统计分析、缓存优化、防盗链等功能</p>
<h4 id="From"><a href="#From" class="headerlink" title="From"></a>From</h4><p>主要用于网络爬虫，告诉服务器如何通过邮件联系到爬虫的负责人<br>From = mailbox<br>例如: From: <a href="mailto:webmaster@example.org" target="_blank" rel="noopener">webmaster@example.org</a></p>
<h3 id="Response-Headers-响应的上下文"><a href="#Response-Headers-响应的上下文" class="headerlink" title="Response Headers 响应的上下文"></a>Response Headers 响应的上下文</h3><h4 id="server"><a href="#server" class="headerlink" title="server"></a>server</h4><p>Server = product *( RWS ( product / comment ) )<br>指明服务器上所用软件的信息，用于帮助客户端定位问题或者统计数据<br>product = token [“/“ product-version]</p>
<h4 id="Allow"><a href="#Allow" class="headerlink" title="Allow"></a>Allow</h4><p>告诉客户端，服务器上该 URI 对应的资源允许哪些方法的执行<br>Allow = #method</p>
<h4 id="Accept-Ranges"><a href="#Accept-Ranges" class="headerlink" title="Accept-Ranges"></a>Accept-Ranges</h4><p>告诉客户端服务器上该资源是否允许 range 请求<br>Accept-Ranges = acceptable-ranges</p>
<h3 id="HTTP包体"><a href="#HTTP包体" class="headerlink" title="HTTP包体"></a>HTTP包体</h3><p>承载的消息内容</p>
<ul>
<li>请求或者响应都可以携带包体<br>HTTP-message = start-line <em>( header-field CRLF ) CRLF [ message-body ]<br>message-body = </em>OCTET:二进制字节流</li>
<li>以下消息不能含有包体<ol>
<li>HEAD 方法请求对应的响应</li>
<li>1xx、204、304 对应的响应</li>
<li>CONNECT 方法对应的 2xx 响应</li>
</ol>
</li>
</ul>
<h4 id="发送-HTTP-消息时已能够确定包体的全部长度"><a href="#发送-HTTP-消息时已能够确定包体的全部长度" class="headerlink" title="发送 HTTP 消息时已能够确定包体的全部长度"></a>发送 HTTP 消息时已能够确定包体的全部长度</h4><p>使用 Content-Length 头部明确指明包体长度<br>Content-Length = 1*DIGIT<br>用 10 进制(不是 16 进制)表示包体中的字节个数，且必须与实际传输的包体长度一致<br>优点:接收端处理更简单</p>
<h4 id="发送-HTTP-消息时不能确定包体的全部长度"><a href="#发送-HTTP-消息时不能确定包体的全部长度" class="headerlink" title="发送 HTTP 消息时不能确定包体的全部长度"></a>发送 HTTP 消息时不能确定包体的全部长度</h4><p>使用 Transfer-Encoding 头部指明使用 Chunk 传输方式，<br>含 Transfer-Encoding 头部后 Content-Length 头部应被忽略<br>优点:</p>
<ol>
<li>基于长连接持续推送动态内容</li>
<li>压缩体积较大的包体时，不必完全压缩完(计算出头部)再发送，可以边发送边压缩</li>
<li>传递必须在包体传输完才能计算出的 Trailer 头部</li>
</ol>
<h3 id="HTML-Form表单"><a href="#HTML-Form表单" class="headerlink" title="HTML Form表单"></a>HTML Form表单</h3><p>表单，HTML 中的元素，提供了交互控制元件用来向服务器通过 HTTP 协议提交信息。</p>
<h4 id="关键属性"><a href="#关键属性" class="headerlink" title="关键属性"></a>关键属性</h4><ul>
<li>action:提交时发起 HTTP 请求的 URI</li>
<li>method:提交时发起 HTTP 请求的 http 方法<ul>
<li>GET:通过 URI，将表单数据以 URI 参数的方式提交</li>
<li>POST:将表单数据放在请求包体中提交</li>
</ul>
</li>
<li>enctype:在 POST 方法下，对表单内容在请求包体中的编码方式<ul>
<li>application/x-www-form-urlencoded<br>数据被编码成以 ‘&amp;’ 分隔的键-值对, 同时以 ‘=’ 分隔键和值，字符以 URL 编码方式编码</li>
<li>multipart/form-data<br>boundary 分隔符<br>每部分表述皆有HTTP头部描述子包体，例如 Content-Type<br>last boundary 结尾</li>
</ul>
</li>
<li>Content-type 头部指明这是一个多表述包体<br>Content-type: multipart/form-data</li>
<li>Boundary 分隔符的格式</li>
</ul>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p>保存在客户端、由浏览器维护、表示应 用状态的 HTTP 头部。</p>
<ul>
<li>存放在内存或者磁盘中</li>
<li>服务器端生成 Cookie 在响应中通过 Set-Cookie 头部告知客户端(允许多 个 Set-Cookie 头部传递多个值)</li>
<li>客户端得到 Cookie 后，后续请求都会 自动将 Cookie 头部携带至请求中<br>Cookie 头部中可以存放多个 name/value 名值对<br>Set-Cookie 头部一次只能传递 1 个 name/value 名值对，响应中可以含多个头部</li>
</ul>
<h4 id="Cookie的使用限制"><a href="#Cookie的使用限制" class="headerlink" title="Cookie的使用限制"></a>Cookie的使用限制</h4><ul>
<li>每条 Cookie 的长度(包括 name、value 以及描述的属性等总长度)至于要达到 4KB • 每个域名下至少支持 50 个 Cookie</li>
<li>至少要支持 3000 个 Cookie</li>
<li>代理服务器传递 Cookie 时会有限制</li>
</ul>
<h4 id="Cookie在协议设计上的问题"><a href="#Cookie在协议设计上的问题" class="headerlink" title="Cookie在协议设计上的问题"></a>Cookie在协议设计上的问题</h4><ul>
<li>Cookie 会被附加在每个 HTTP 请求中，所以无形中增加了流量</li>
<li>由于在 HTTP 请求中的 Cookie 是明文传递的，所以安全性成问题(除<br>非用 HTTPS)</li>
<li>Cookie 的大小不应超过 4KB，故对于复杂的存储需求来说是不够用的</li>
</ul>
<h3 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h3><p>同一个浏览器发出的请求，未必都是用户自愿发出的请求。如果没有同源策略，只能保证用户请求来自于同一浏览器，不能确保是用户自愿发出的。</p>
<h4 id="解决跨域问题"><a href="#解决跨域问题" class="headerlink" title="解决跨域问题"></a>解决跨域问题</h4><p>详见文章 <a href="https://blog.wangguanwei.com/2017/07/23/%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/" target="_blank" rel="noopener">解决跨域的几种方式</a>,本文不再一一赘述。</p>
<h3 id="Cache-Control-头部"><a href="#Cache-Control-头部" class="headerlink" title="Cache-Control 头部"></a>Cache-Control 头部</h3><p>请求中的头部:max-age、max-stale、min-fresh、no-cache、no- store、no-transform、only-if-cached<br>响应中的头部: max-age、s-maxage 、 must-revalidate 、proxy- revalidate 、no-cache、no-store、no-transform、public、private</p>
<h4 id="Cache-Control-头部在请求中的值"><a href="#Cache-Control-头部在请求中的值" class="headerlink" title="Cache-Control 头部在请求中的值"></a>Cache-Control 头部在请求中的值</h4><ul>
<li>max-age:告诉服务器，客户端不会接受 Age 超出 max-age 秒的缓存</li>
<li>max-stale:告诉服务器，即使缓存不再新鲜，但陈旧秒数没有超出 max-stale 时，客户端仍<br>打算使用。若 max-stale 后没有值，则表示无论过期多久客户端都可使用</li>
<li>min-fresh:告诉服务器，Age 至少经过 min-fresh 秒后缓存才可使用</li>
<li>no-cache:告诉服务器，不能直接使用已有缓存作为响应返回，除非带着缓存条件到上游服 务端得到 304 验证返回码才可使用现有缓存</li>
<li>no-store:告诉各代理服务器不要对该请求的响应缓存(实际有不少不遵守该规定的代理服务 器)</li>
<li>no-transform:告诉代理服务器不要修改消息包体的内容</li>
<li>only-if-cached:告诉服务器仅能返回缓存的响应，否则若没有缓存则返回 504 错误码</li>
</ul>
<h4 id="Cache-Control-头部在响应中的值"><a href="#Cache-Control-头部在响应中的值" class="headerlink" title="Cache-Control 头部在响应中的值"></a>Cache-Control 头部在响应中的值</h4><ul>
<li>must-revalidate:告诉客户端一旦缓存过期，必须向服务器验证后才可使用</li>
<li>proxy-revalidate:与 must-revalidate 类似，但它仅对代理服务器的共享缓存<br>有效</li>
<li>no-cache:告诉客户端不能直接使用缓存的响应，使用前必须在源服务器验证 得到 304 返回码。如果 no-cache 后指定头部，则若客户端的后续请求及响应 中不含有这些头则可直接使用缓存</li>
<li>max-age:告诉客户端缓存 Age 超出 max-age 秒后则缓存过期</li>
<li>s-maxage:与 max-age 相似，但仅针对共享缓存，且优先级高于 max-age 和 Expires</li>
<li>public:表示无论私有缓存或者共享缓存，皆可将该响应缓存</li>
<li>private:表示该响应不能被代理服务器作为共享缓存使用。若 private 后指定头<br>部，则在告诉代理服务器不能缓存指定的头部，但可缓存其他部分</li>
<li>no-store:告诉所有下游节点不能对响应进行缓存</li>
<li>no-transform:告诉代理服务器不能修改消息包体的内容</li>
</ul>
<h2 id="TSL-协议"><a href="#TSL-协议" class="headerlink" title="TSL 协议"></a>TSL 协议</h2><h3 id="AES对称加密"><a href="#AES对称加密" class="headerlink" title="AES对称加密"></a>AES对称加密</h3><h4 id="对称加密实现原理"><a href="#对称加密实现原理" class="headerlink" title="对称加密实现原理"></a>对称加密实现原理</h4><p>对称机密之所以能实现同一把密钥既能加密又能解密，主要是基于XOR异或运算。</p>
<table>
<thead>
<tr>
<th>input</th>
<th>input</th>
<th>output</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>B</td>
<td>A XOR B</td>
<td></td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>inputinputoutputABA XOR B000011101110inputinputoutputABA XOR B000011101110inputinputoutputABA XOR B000011101110inputinputoutputABA XOR B000011101110#### padding填充</p>
<p>Block cipher 分组加密: 将明文分成多个等长的 Block 模块，对每个模块分别加解密。<br>目的: 当最后一个明文 Block 模块长度不足时，需要填充。<br>填充方法:</p>
<ul>
<li>位填充: 以 bit 位为单位来填充</li>
<li>字节填充:以字节为单位为填充。有四种方法<ol>
<li>补零: 字节位数不够，全部用零来补。</li>
<li>ANSIX9.23: 末尾补零，最后一个字节表明补了几个零。</li>
<li>ISO10126: 末尾填充完全随机字符，填充的最后一个字节表明一共填充了几个字节</li>
<li>PKCS7(RFC5652): 在需要填充的地方，全部填充数字，数字为需要几个字节。如需要填充4个字节，那么末尾补充 04040404 |.</li>
</ol>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/花满楼/" rel="tag"># 花满楼</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/03/18/webpack进阶语法/" rel="next" title="webpack进阶语法">
                <i class="fa fa-chevron-left"></i> webpack进阶语法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/04/06/数据结构和算法之美/" rel="prev" title="数据结构和算法之美">
                数据结构和算法之美 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Cinaiet">
            
              <p class="site-author-name" itemprop="name">Cinaiet</p>
              <p class="site-description motion-element" itemprop="description">因为喜欢，所以坚持</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">47</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#评估web架构的关键属性"><span class="nav-number">1.</span> <span class="nav-text">评估web架构的关键属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP协议应当在以下属性中取得可接受的均衡"><span class="nav-number">1.1.</span> <span class="nav-text">HTTP协议应当在以下属性中取得可接受的均衡:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#架构属性"><span class="nav-number">1.2.</span> <span class="nav-text">架构属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#网络性能"><span class="nav-number">1.2.1.</span> <span class="nav-text">网络性能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#用户感知到的性能"><span class="nav-number">1.2.2.</span> <span class="nav-text">用户感知到的性能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#网络效率"><span class="nav-number">1.2.3.</span> <span class="nav-text">网络效率</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#架构风格"><span class="nav-number">1.3.</span> <span class="nav-text">架构风格</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#复制风格-Replication-Style"><span class="nav-number">1.3.1.</span> <span class="nav-text">复制风格 Replication Style</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分层风格-Hierarchical-Styles"><span class="nav-number">1.3.2.</span> <span class="nav-text">分层风格 Hierarchical Styles</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#移动代码风格-Mobile-code-style"><span class="nav-number">1.3.3.</span> <span class="nav-text">移动代码风格 Mobile code style</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#点对点风格-Peer-to-Peer-style"><span class="nav-number">1.3.4.</span> <span class="nav-text">点对点风格 Peer-to-Peer style</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP的前世今生"><span class="nav-number">2.</span> <span class="nav-text">HTTP的前世今生</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-是什么"><span class="nav-number">2.1.</span> <span class="nav-text">HTTP 是什么</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#与HTTP相关的概念"><span class="nav-number">2.1.1.</span> <span class="nav-text">与HTTP相关的概念</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#CDN"><span class="nav-number">2.1.1.1.</span> <span class="nav-text">CDN</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Web-Service"><span class="nav-number">2.1.1.2.</span> <span class="nav-text">Web Service</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TCP-IP"><span class="nav-number">2.1.1.3.</span> <span class="nav-text">TCP/IP</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DNS"><span class="nav-number">2.1.1.4.</span> <span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#URI-URL"><span class="nav-number">2.1.1.5.</span> <span class="nav-text">URI/URL</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-0-9"><span class="nav-number">2.2.</span> <span class="nav-text">HTTP/0.9</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-1-0"><span class="nav-number">2.3.</span> <span class="nav-text">HTTP/1.0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-1-1"><span class="nav-number">2.4.</span> <span class="nav-text">HTTP/1.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-2"><span class="nav-number">2.5.</span> <span class="nav-text">HTTP/2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-3"><span class="nav-number">2.6.</span> <span class="nav-text">HTTP/3</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP1详解"><span class="nav-number">3.</span> <span class="nav-text">HTTP1详解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#request-line-请求行"><span class="nav-number">3.1.</span> <span class="nav-text">request-line 请求行</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#method-方式"><span class="nav-number">3.1.1.</span> <span class="nav-text">method (方式)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#request-target-Path"><span class="nav-number">3.1.2.</span> <span class="nav-text">request-target (Path)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#http-version-版本号"><span class="nav-number">3.1.3.</span> <span class="nav-text">http-version 版本号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#用于文档管理的WEBDAV方法"><span class="nav-number">3.1.4.</span> <span class="nav-text">用于文档管理的WEBDAV方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#status-line-响应行"><span class="nav-number">3.2.</span> <span class="nav-text">status-line 响应行</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#status-code-响应码"><span class="nav-number">3.2.1.</span> <span class="nav-text">status-code 响应码</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1xx-请求已经接收到，需要进一步处理才能完成，HTTP1-0不支持"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">1xx : 请求已经接收到，需要进一步处理才能完成，HTTP1.0不支持</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2xx-成功处理请求"><span class="nav-number">3.2.1.2.</span> <span class="nav-text">2xx: 成功处理请求</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3xx-重定向"><span class="nav-number">3.2.1.3.</span> <span class="nav-text">3xx: 重定向</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4xx-客户端出现错误"><span class="nav-number">3.2.1.4.</span> <span class="nav-text">4xx: 客户端出现错误</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5xx-服务器端出现错误"><span class="nav-number">3.2.1.5.</span> <span class="nav-text">5xx:服务器端出现错误</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Host-头部"><span class="nav-number">3.3.</span> <span class="nav-text">Host 头部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Request-Headers-请求的上下文"><span class="nav-number">3.4.</span> <span class="nav-text">Request Headers 请求的上下文</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#User-Agent"><span class="nav-number">3.4.1.</span> <span class="nav-text">User-Agent</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#referer"><span class="nav-number">3.4.2.</span> <span class="nav-text">referer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#From"><span class="nav-number">3.4.3.</span> <span class="nav-text">From</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Response-Headers-响应的上下文"><span class="nav-number">3.5.</span> <span class="nav-text">Response Headers 响应的上下文</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#server"><span class="nav-number">3.5.1.</span> <span class="nav-text">server</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Allow"><span class="nav-number">3.5.2.</span> <span class="nav-text">Allow</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept-Ranges"><span class="nav-number">3.5.3.</span> <span class="nav-text">Accept-Ranges</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP包体"><span class="nav-number">3.6.</span> <span class="nav-text">HTTP包体</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#发送-HTTP-消息时已能够确定包体的全部长度"><span class="nav-number">3.6.1.</span> <span class="nav-text">发送 HTTP 消息时已能够确定包体的全部长度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#发送-HTTP-消息时不能确定包体的全部长度"><span class="nav-number">3.6.2.</span> <span class="nav-text">发送 HTTP 消息时不能确定包体的全部长度</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTML-Form表单"><span class="nav-number">3.7.</span> <span class="nav-text">HTML Form表单</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#关键属性"><span class="nav-number">3.7.1.</span> <span class="nav-text">关键属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookie"><span class="nav-number">3.8.</span> <span class="nav-text">Cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie的使用限制"><span class="nav-number">3.8.1.</span> <span class="nav-text">Cookie的使用限制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie在协议设计上的问题"><span class="nav-number">3.8.2.</span> <span class="nav-text">Cookie在协议设计上的问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同源策略"><span class="nav-number">3.9.</span> <span class="nav-text">同源策略</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#解决跨域问题"><span class="nav-number">3.9.1.</span> <span class="nav-text">解决跨域问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cache-Control-头部"><span class="nav-number">3.10.</span> <span class="nav-text">Cache-Control 头部</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cache-Control-头部在请求中的值"><span class="nav-number">3.10.1.</span> <span class="nav-text">Cache-Control 头部在请求中的值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cache-Control-头部在响应中的值"><span class="nav-number">3.10.2.</span> <span class="nav-text">Cache-Control 头部在响应中的值</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TSL-协议"><span class="nav-number">4.</span> <span class="nav-text">TSL 协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AES对称加密"><span class="nav-number">4.1.</span> <span class="nav-text">AES对称加密</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#对称加密实现原理"><span class="nav-number">4.1.1.</span> <span class="nav-text">对称加密实现原理</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <adress>个人邮箱: <a href="mailto:crazyguanwei@163.com">crazyguanwei@163.com </a></adress>
<div class="copyright">&copy; <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cinaiet</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
